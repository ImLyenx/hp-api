<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="global.css" />
    <link rel="stylesheet" href="rules.css" />
    <script
      defer
      src="https://kit.fontawesome.com/aa06e5f929.js"
      crossorigin="anonymous"
    ></script>
    <meta name="description" content="Rules of the game" />
    <link
      rel="shortcut icon"
      href="../assets/images/logo.png"
      type="image/x-icon"
    />
    <title>Rules</title>
  </head>
  <body>
    <header>
      <div class="logo">
        <img src="../assets/images/logo.png" alt="" />
      </div>
      <nav>
        <ul class="navbar-list">
          <li>
            <a href="/">
              <i class="fas fa-house"></i>
              <span class="nav-link">Home</span></a
            >
          </li>
          <li>
            <a href="/rules"
              ><i class="fas fa-clipboard-check"></i
              ><span class="nav-link">Rules</span></a
            >
          </li>
          <li>
            <a href="/cards"
              ><i class="fas fa-sheet-plastic"></i
              ><span class="nav-link">Cards</span></a
            >
          </li>
        </ul>
      </nav>
      <div class="login">
        <i class="fas fa-right-to-bracket"></i>
      </div>
      <div class="logout hidden">
        <i class="fas fa-user-large-slash"></i>
      </div>
      <div class="forms hidden">
        <form class="login-form" onsubmit="handleLogin(event)"
          <label for="login-email">Email adress</label>
          <input type="email" id="login-email" />
          <label for="llogin-password">Password</label>
          <input type="password" id="login-password" />
          <button type="submit">Login</button>

          <span class="tip">Register</span>
        </form>

        <form class="register-form hidden" onsubmit="handleRegister(event)">
          <label for="register-email">Email adress</label>
          <input type="email" id="register-email" />
          <label for="name">Username</label>
          <input type="text" id="name" />
          <label for="register-password">Password</label>
          <input type="password" id="register-password" />
          <button type="submit">Register</button>
          <span class="tip">Login</span>
        </form>
      </div>
      <script>
        const loginButton = document.querySelector(".login");
        const forms = document.querySelector(".forms");
        loginButton.addEventListener("click", () => {
          forms.classList.toggle("hidden");
        });

        function loginStatus() {
          if (localStorage.getItem("token")) {
            document.querySelector(".login").classList.add("hidden");
            document.querySelector(".logout").classList.remove("hidden");
          } else {
            document.querySelector(".login").classList.remove("hidden");
            document.querySelector(".logout").classList.add("hidden");
          }
        }
        loginStatus();

        function handleLogin(e) {
          e.preventDefault();
          const email = document.getElementById("login-email").value;
          const password = document.getElementById("login-password").value;
          fetch("/api/login", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({ email, password }),
          })
            .then((response) => response.json())
            .then((data) => {
              localStorage.setItem("token", data.token);
              loginForm.classList.add("hidden");
              loginStatus();
            })
            .catch((error) => {
              console.error("There was an error!", error);
            });
          }

          function handleRegister(e) {
            e.preventDefault();
            const email = document.getElementById("register-email").value;
            const name = document.getElementById("name").value;
            const password = document.getElementById("register-password").value;
            fetch("/api/users", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({ email, name, password }),
            })
              .then((response) => response.json())
              .then((data) => {
                localStorage.setItem("token", data.token);
                forms.classList.add("hidden");
                loginStatus();
              })
              .catch((error) => {
                console.error("There was an error!", error);
              });
          }
          
          logoutButton = document.querySelector(".logout");
          logoutButton.addEventListener("click", () => {
            localStorage.removeItem("token");
            loginStatus();
          });

          const tip = document.querySelectorAll(".tip");
          tip.forEach((element) => {
            element.addEventListener("click", () => {
              document.querySelector(".login-form").classList.toggle("hidden");
              document.querySelector(".register-form").classList.toggle("hidden");
            });
          });
      </script>
      <input type="checkbox" id="burger-toggle" />
      <label for="burger-toggle" class="burger-icon">
        <i class="fas fa-bars"></i>
      </label>
      <div class="burger-menu">
        <ul class="burger-menu-list">
          <li>
            <a href="/">
              <i class="fas fa-house"></i>
              <span>Home</span>
            </a>
          </li>
          <li>
            <a href="/rules">
              <i class="fas fa-clipboard-check"></i>
              <span>Rules</span>
            </a>
          </li>
          <li>
            <a href="/cards">
              <i class="fas fa-sheet-plastic"></i>
              <span>Cards</span>
            </a>
          </li>
        </ul>
      </div>
      <script defer>
        const burgerToggle = document.getElementById("burger-toggle");
        const burgerMenu = document.querySelector(".burger-menu");
        burgerToggle.addEventListener("change", () => {
          if (burgerToggle.checked) {
            burgerMenu.style.transform = "scaleY(1)";
          } else {
            burgerMenu.style.transform = "scaleY(0)";
          }
        });
      </script>
    </header>
    <main>
      <section class="rules">
        <h1>Rules</h1>
        <p>
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Nostrum
          molestias quibusdam laudantium repellendus possimus, ipsum voluptas
          consequatur consectetur rem ratione, quae iusto dolorem porro sed
          officia quidem libero odio exercitationem non nemo voluptatum fugit a
          saepe. Debitis illo id inventore culpa doloremque laborum, rem
          voluptas. Dolorum corrupti eligendi quod quidem?
        </p>
        <h1>Equipment</h1>
        <p>
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Similique
          facere, adipisci at, odit minus voluptates magnam esse vel totam
          accusamus obcaecati, dicta eius voluptatum numquam maxime repellendus
          accusantium facilis! Laborum consequatur itaque, error dicta
          doloremque fugiat doloribus veniam amet quaerat adipisci autem
          consectetur quibusdam incidunt ab, cumque velit delectus beatae ullam
          quis recusandae. Earum aliquam ab cupiditate eligendi vero optio ut
          iste pariatur sed magnam esse ipsum labore, placeat et iusto
          voluptatum delectus minima eius tempore repellendus? Incidunt atque
          corporis inventore ad totam tenetur molestias amet maiores nobis
          corrupti, alias fugit non laboriosam tempora illo dicta ea obcaecati
          quod. Esse.
        </p>
        <h1>Object</h1>
        <p>
          Lorem, ipsum dolor sit amet consectetur adipisicing elit. Excepturi
          suscipit dolorum ducimus nulla in maxime, impedit sapiente odio vero
          itaque quos asperiores. Nobis, perspiciatis ipsam.
        </p>
        <h1>Setup</h1>
        <p>
          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Voluptatum
          dolorum magnam perferendis, dolores numquam error perspiciatis
          molestiae, doloribus, a placeat nostrum. Ea ad tenetur, reprehenderit
          quod iusto doloremque! Porro similique ratione quam quidem fuga,
          tempora quibusdam saepe hic repellendus voluptas possimus facere nihil
          aliquid distinctio officiis, nemo eos minima sint quas vitae, neque
          illo inventore accusamus. Modi, veniam esse, earum tempora fuga
          ratione nemo sint obcaecati quo rem laboriosam nisi sapiente omnis, ad
          cum voluptatibus! Quidem veritatis excepturi nobis, ipsam inventore
          cupiditate tempora perferendis officiis eius sequi quaerat delectus
          odio obcaecati vitae, nesciunt saepe animi optio beatae? Omnis
          doloremque culpa eaque distinctio perspiciatis dicta incidunt dolorum
          facilis natus corporis quisquam nam harum aliquid, esse quam beatae
          voluptates debitis placeat nesciunt, quos non. Accusamus eos, sequi
          dolores voluptatibus quam quidem quisquam minus, ipsum, architecto
          totam similique magni eum enim ducimus deleniti. Est unde quaerat
          similique quibusdam? Natus dolorum libero maxime sed at distinctio,
          atque esse obcaecati molestiae velit ratione modi asperiores eos a
          deserunt accusantium officiis, ipsum, nesciunt tempore unde. Dolor
          repellendus porro distinctio! Impedit quia quae tenetur! Expedita
          molestiae voluptatem officiis veritatis distinctio? Rem soluta nulla
          perferendis ad vitae nostrum dignissimos culpa consequuntur esse,
          officia hic accusantium labore nisi modi ut tenetur, nemo obcaecati
          numquam explicabo voluptatum commodi corporis? Doloremque, sint.
          Veniam beatae id consequatur nihil, ab inventore at velit fugiat
          labore error hic assumenda tenetur sequi excepturi unde aliquid ad,
          amet maiores. Quaerat, ex enim dolor veritatis at cumque ipsa
          asperiores unde corrupti debitis, cum, provident quos nobis
          repellendus.
        </p>
      </section>
      <section class="reviews">
        <h1>Reviews</h1>
        <div>
          <div class="review">
            <h2>Lina Pope</h2>
            <div class="review-rating">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star-half-alt"></i>
              <i class="far fa-star"></i>
              <i class="far fa-star"></i>
            </div>
            <p>
              Lorem ipsum dolor, sit amet consectetur adipisicing elit.
              Distinctio nemo cum corrupti quisquam est ad itaque veritatis
              neque ab aliquam facilis at provident soluta nostrum eum, quidem
              expedita explicabo saepe ut rem, modi nobis perferendis.
            </p>
          </div>
          <div class="review">
            <h2>Vernon Fowler</h2>
            <div class="review-rating">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star-half-alt"></i>
              <i class="far fa-star"></i>
            </div>
            <p>
              Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aliquid
              cumque sunt distinctio nemo, sint ab veritatis unde exercitationem
              aperiam ducimus nesciunt totam est quisquam impedit perspiciatis
              accusantium explicabo maiores labore molestiae blanditiis neque
              quia quaerat.
            </p>
          </div>
          <div class="review">
            <h2>Arthur Brooks</h2>
            <div class="review-rating">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="far fa-star"></i>
            </div>
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet
              vitae a reiciendis excepturi quidem asperiores animi eligendi,
              sit, quo, minima magni itaque voluptatem nesciunt et cupiditate
              dolorem omnis. Quisquam voluptatem, aliquid minus recusandae
              inventore nisi.
            </p>
          </div>
        </div>
      </section>
    </main>
    <footer>
      <div class="socials">
        <a href="#"><i class="fab fa-youtube"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
      </div>
      <div class="legal">
        <a href="#">Terms of Use</a>
        <p>&middot;</p>
        <a href="#">Privacy Policy</a>
      </div>
      <div class="copyright">
        <p>&copy; Eric Hubert, <span id="copy-date"></span></p>
      </div>
      <script async type="module">
        document.getElementById("copy-date").innerText =
          new Date().getFullYear();
      </script>
    </footer>
  </body>
</html>
